# 캠퍼스 스마트 주차 관제 시스템

## 문제 설명
캠퍼스 내의 교통 혼잡을 줄이기 위해 새로운 '스마트 주차 관제 시스템'이 도입되었습니다. 이 시스템은 입차하는 차량의 정보를 임시 버퍼에 저장하고 처리하는 역할을 합니다. 시스템은 하드웨어 한계로 인해 동시에 저장할 수 있는 차량 정보의 개수가 제한되어 있습니다.

시스템이 처리해야 할 차량 데이터는 다음과 같습니다:
- **차량 번호 (Source):** 차량을 식별하는 고유 번호
- **주차장 번호 (Destination):** 입차하려는 주차장 구역 번호
- **입차 시간 (Timestamp):** 차량이 센서를 통과한 시간

시스템은 다음 규칙에 따라 작동하도록 설계해야 합니다:

- **메모리 제한** 
  - 시스템은 최대 $L$개의 차량 정보만 동시에 저장할 수 있습니다. 새로운 정보를 추가할 때 저장 공간이 꽉 찼다면, 가장 오래된 정보를 삭제하여 공간을 확보한 뒤 새 정보를 추가합니다.
- **중복 입차 방지** 
  - 현재 시스템에 저장된 정보 중 **차량 번호, 주차장 번호, 입차 시간**이 모두 동일한 데이터가 이미 존재한다면, 이는 센서 오류에 의한 중복 데이터로 간주하여 추가하지 않습니다.
- **데이터 처리** 
  - 처리 요청이 들어오면 현재 저장된 데이터 중 **가장 먼저 들어온 데이터**를 꺼내어 결과를 반환하고 시스템에서 삭제합니다.
- **구역 조회** 
  - 특정 주차장 번호와 시간 범위 $[startTime, endTime]$가 주어질 때, 현재 시스템에 저장된 데이터 중 해당 구역으로 향하며 시간 범위 내에 입차한 차량이 몇 대인지 계산합니다.

차량 데이터 입력은 항상 **입차 시간(Timestamp)이 증가하거나 같은 순서**로 들어옵니다.

---
## 입력 형식 (Input Format)
- 첫 번째 줄에 시스템의 최대 저장 용량 $L$이 주어집니다. ($1 \le L \le 1,000$)
- 두 번째 줄에 수행할 명령의 개수 $Q$가 주어집니다. ($1 \le Q \le 5,000$)
- 세 번째 줄부터 $Q$개의 줄에 걸쳐 명령이 주어집니다:
    - `ADD car_id lot_id timestamp`: 차량 정보를 시스템에 추가합니다. 성공하면 `true`, 중복이면 `false`를 출력합니다.
    - `PROCESS`: 가장 오래된 데이터를 처리하고 `[car_id, lot_id, timestamp]` 형태로 출력합니다. 저장된 데이터가 없으면 `EMPTY`를 출력합니다.
    - `COUNT lot_id startTime endTime`: 조건에 맞는 차량 수를 출력합니다.

## 출력 형식 (Output Format)
- 각 명령의 결과를 한 줄에 하나씩 출력합니다.

---
## 입출력 예시 (Sample I/O)

### 예시 1
**Input:**
```
3
9
ADD 1 4 90
ADD 2 5 90
ADD 1 4 90
ADD 3 5 95
ADD 4 5 105
PROCESS
ADD 5 2 110
COUNT 5 100 110
COUNT 5 90 110
```

**Output:**
```
true
true
false
true
true
[2, 5, 90]
true
1
2
```

- 용량 3인 시스템에 `(1, 4, 90)`, `(2, 5, 90)` 추가 (true 출력)
- `(1, 4, 90)` 재유입 (중복이므로 false 출력)
- `(3, 5, 95)` 추가 
  - 현재 `[(1,4,90), (2,5,90), (3,5,95)]`
- `(4, 5, 105)` 추가 
  - 용량 초과로 가장 오래된 `(1,4,90)` 삭제 후 추가
  - 현재 `[(2,5,90), (3,5,95), (4, 5, 105)]`
- `PROCESS`
  - 가장 오래된 `(2, 5, 90)` 반환 및 삭제
- `(5 2 110)` 추가
  - 현재 `[(3,5,95), (4, 5, 105), (5,2,110)]`
- `COUNT 5 100 110` 
  - 현재 남은 `(3,5,95), (4,5,105), (5,2,110)` 중 주차장 5번이며 시간이 100~110 사이인 차량은 `(4,5,105)` 1대입니다.
- `COUNT 5 90 110` 
  - 주차장 5번이며 시간이 90~110 사이인 차량은 `(3,5,95), (4,5,105)` 2대입니다.

### 예시 2
**Input:**
```
2
5
ADD 10 1 1000
ADD 20 1 1010
ADD 30 2 1020
COUNT 1 1000 1100
PROCESS
```

**Output:**
```
true
true
true
1
[20, 1, 1010]
```

- $L=2$
  - `(10, 1, 1000)`과 `(20, 1, 1010)`이 차례로 저장됩니다.
- `ADD 30 2 1020`
  - 용량이 꽉 찼으므로 가장 오래된 `(10, 1, 1000)`이 삭제되고 추가됩니다.
  - 현재 `[(20, 1, 1010)), (30, 2, 1020)]`
- `COUNT 1 1000 1100`
  - 주차장 1번 데이터중 1000-1100 사이 기록은 1개뿐입니다.
- `PROCESS`: 현재 가장 오래된 데이터인 `[20, 1, 1010]`을 꺼내고 삭제합니다.

### 예시 3 
**Input:**
```
5
3
PROCESS
ADD 100 10 500
PROCESS
```

**Output:**
```
EMPTY
true
[100, 10, 500]
```

- 데이터가 없는 상태에서 `PROCESS` 호출 시 `EMPTY`를 출력하며, 이후 추가된 데이터는 정상적으로 처리됩니다.
